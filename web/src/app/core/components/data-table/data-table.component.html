<table mat-table [dataSource]="dataSource()">
    <ng-container matColumnDef="select" sticky>
        <th mat-header-cell *matHeaderCellDef>
            <app-select-button
                [indeterminate]="true"
                [selectable]="dataSource()">
            </app-select-button>
        </th>
        <td mat-cell *matCellDef="let row">
            <app-select-button
                [selectable]="dataSource()"
                [indeterminate]="false"
                [data]="row">
            </app-select-button>
        </td>
    </ng-container>

    <ng-content></ng-content>

    <tr
        mat-header-row
        class="header-row"
        *matHeaderRowDef="displayedColumns(); sticky: true">
    </tr>
    <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns();"
        appTaps
        (click)="dataSource().toggleSelection(row)"
        (dblclick)="activateRow(row)"
        (tap)="dataSource().toggleSelection(row)"
        (dblTap)="activateRow(row)">
    </tr>
</table>
